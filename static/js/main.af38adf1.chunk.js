(this["webpackJsonpblock-shop"]=this["webpackJsonpblock-shop"]||[]).push([[0],{109:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),l=a(26),u=a.n(l),i=(a(82),a(9)),o=a(5),s=(a(83),a(47)),d=function(e){return c.a.createElement("div",{className:"".concat(e.display?"overlay":"toastr-container")},c.a.createElement(s.a,{onClose:e.onClose,show:e.display,delay:3e3,autohide:!0},c.a.createElement(s.a.Header,null,c.a.createElement("label",{className:"mr-auto"},e.title)),c.a.createElement(s.a.Body,null,e.message," ",c.a.createElement("br",null)," ",e.explanation)))},m=a(1),p=a(24),f=a(3),h=a.n(f),v=a(7),b=a(16),E=a(65),g=a.n(E);var O=function(){if(n)return n;(n=g.a.create({baseURL:w})).defaults.headers.common["Accept-Language"]="en";var e=localStorage.getItem("token");return void 0!==e&&(n.defaults.headers.common.Authorization=e),n.interceptors.response.use((function(e){return e}),(function(e){return console.log(e.response),console.log(e.message),Promise.reject(e)})),n},w="".concat("http://").concat("185.50.68.92").concat(":8080").concat("/blockshop2","/").concat("v1.0.0","/"),j=function(){var e=O();return{LoginRequest:{post:function(t){return Object(v.a)(h.a.mark((function a(){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.post("users/login",t);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()},isValid:function(){return Object(v.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("users/isvalid");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}},ShopRequest:{get:function(){return Object(v.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("shops");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},getFilters:function(t){return Object(v.a)(h.a.mark((function a(){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.get("shops/filter",{params:{shopId:t}});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()}},ProductRequest:{get:function(t){return Object(v.a)(h.a.mark((function a(){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.get("products",{params:{shopId:t}});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()},getById:function(t){return Object(v.a)(h.a.mark((function a(){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.get("products",{params:{id:t}});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()}},ListRequest:{post:function(t){return Object(v.a)(h.a.mark((function a(){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.post("lists",t);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()},get:function(t){return Object(v.a)(h.a.mark((function a(){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.get("lists",{params:{shopId:t}});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()},getById:function(t){return Object(v.a)(h.a.mark((function a(){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.get("lists/"+t);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()},delete:function(t){return Object(v.a)(h.a.mark((function a(){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.delete("lists/"+t);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()},put:function(t,a){return Object(v.a)(h.a.mark((function n(){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.put("lists/"+t,a);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},getGuid:function(t){return Object(v.a)(h.a.mark((function a(){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.get("lists/guid/"+t);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()},linkGuid:function(t){return Object(v.a)(h.a.mark((function a(){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.get("lists/click",{params:{guid:t}});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()}}}},x=Object(b.b)("user/fetchLogin",function(){var e=Object(v.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j().LoginRequest.post(t);case 3:return a=e.sent,n=a.headers.authorization,O().defaults.headers.common.Authorization=n,localStorage.setItem("token",n),e.abrupt("return",a.data.result);case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()),S=Object(b.b)("user/fetchIsValid",Object(v.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j().LoginRequest.isValid();case 3:return t=e.sent,e.abrupt("return",t.data.successful);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))),y=Object(b.c)({name:"user",initialState:{},reducers:{set:function(e,t){return t.payload},reset:function(e){({})}},extraReducers:Object(p.a)({},x.fulfilled,(function(e,t){t.payload}))}),N=y.actions,C=(N.set,N.reset,y.reducer),k=a(13);var I=function(){var e=Object(k.f)(),t=Object(m.c)(),a=Object(r.useState)("abdullahsunca@hotmail.com"),n=Object(o.a)(a,2),l=n[0],u=n[1],i=Object(r.useState)("1"),s=Object(o.a)(i,2),d=s[0],p=s[1],f=function(){var a=Object(v.a)(h.a.mark((function a(){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t(x({email:l,password:d})).then((function(t){t.payload&&e.go()}));case 1:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"container page-title flex-between"},c.a.createElement("label",null,"WELCOME TO BLOCK SHOP")),c.a.createElement("form",{className:"login-container flex-container",autoComplete:"off",onSubmit:function(e){f(),e.preventDefault()}},c.a.createElement("input",{autoComplete:"off",type:"text",placeholder:"Please enter your email",value:l,onChange:function(e){return u(e.target.value)}}),c.a.createElement("input",{autoComplete:"new-password",type:"password",placeholder:"Please enter password",value:d,onChange:function(e){return p(e.target.value)}}),c.a.createElement("button",{type:"submit"},"LOGIN")))},L=a(74),R=Object(r.createContext)(null);var A,M=function(){return c.a.createElement("div",{className:"spinner"},c.a.createElement("div",{className:"bounce1"}),c.a.createElement("div",{className:"bounce2"}),c.a.createElement("div",{className:"bounce3"}))},z=a(21),B=Object(b.b)("selection/fetchShop",function(){var e=Object(v.a)(h.a.mark((function e(t){var a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j().ShopRequest.get();case 3:return a=e.sent,e.abrupt("return",a.data.result);case 7:return e.prev=7,e.t0=e.catch(0),r=null===(n=e.t0.response.data)||void 0===n?void 0:n.messages.join(" "),t.dispatch(re({display:!0,title:"Error Fetching Shops",message:e.t0.message,explanation:r||"",class:"danger"})),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),T=Object(b.b)("selection/fetchShopFilters",function(){var e=Object(v.a)(h.a.mark((function e(t,a){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.dispatch(J(t)),e.next=4,j().ShopRequest.getFilters(t);case 4:return n=e.sent,e.abrupt("return",n.data.result);case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()),F=Object(b.b)("selection/fetchProduct",function(){var e=Object(v.a)(h.a.mark((function e(t,a){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.dispatch(J(t)),e.next=4,j().ProductRequest.get(t);case 4:return n=e.sent,e.abrupt("return",n.data.result);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()),H=Object(b.b)("selection/fetchProductById",function(){var e=Object(v.a)(h.a.mark((function e(t,a){var n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j().ProductRequest.getById(t);case 3:return(n=e.sent).data.successful&&(r=n.data.result[0],void 0!==(c=r.shop.id)&&(a.dispatch(T(c)),a.dispatch(F(c)),a.dispatch(V(c)),a.dispatch(ae(t)))),e.abrupt("return",n.data.result);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()),P=Object(b.b)("selection/saveList",function(){var e=Object(v.a)(h.a.mark((function e(t,a){var n,r,c,l,u,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.getState(),r=n.selection.selectedShopId,c=[],n.selection.selectedItems.forEach((function(e){c.push({productId:e,price:0})})),e.prev=4,e.next=7,j().ListRequest.post({name:t,products:c,shopId:r});case 7:return l=e.sent,e.abrupt("return",l.data.result);case 11:return e.prev=11,e.t0=e.catch(4),i=null===(u=e.t0.response.data)||void 0===u?void 0:u.messages.join(" "),a.dispatch(re({display:!0,title:"List Save Error",message:e.t0.message,explanation:i||"",class:"danger"})),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a){return e.apply(this,arguments)}}()),V=Object(b.b)("selection/fetchList",function(){var e=Object(v.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j().ListRequest.get(t);case 3:return a=e.sent,e.abrupt("return",a.data.result);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),D=Object(b.b)("selection/fetchListById",function(){var e=Object(v.a)(h.a.mark((function e(t,a){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j().ListRequest.getById(t);case 3:return(n=e.sent).data.successful&&void 0!==(r=n.data.result.shop.id)&&(a.dispatch(T(r)),a.dispatch(F(r)),a.dispatch(V(r))),e.abrupt("return",n.data.result);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()),q=Object(b.b)("selection/editList",function(){var e=Object(v.a)(h.a.mark((function e(t,a){var n,r,c,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.data,e.prev=1,e.next=4,j().ListRequest.put(n,r);case 4:return(c=e.sent).data.successful&&(a.dispatch(re({display:!0,title:"LIST SAVED",message:"List updated successfully!",class:"success"})),l=a.getState(),a.dispatch(V(l.selection.selectedShopId))),e.abrupt("return",c.data.result);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}()),W=Object(b.b)("selection/deleteList",function(){var e=Object(v.a)(h.a.mark((function e(t,a){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j().ListRequest.delete(t);case 3:return(n=e.sent).data.successful&&(r=a.getState(),a.dispatch(V(r.selection.selectedShopId))),e.abrupt("return",n.data.result);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()),K=Object(b.b)("selection/getGuidList",function(){var e=Object(v.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j().ListRequest.getGuid(t);case 3:return a=e.sent,e.abrupt("return",!!a.data.successful&&a.data.result);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),G=Object(b.b)("selection/clickLinkGuid",function(){var e=Object(v.a)(h.a.mark((function e(t,a){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j().ListRequest.linkGuid(t);case 3:return(n=e.sent).data.successful&&(r=n.data.result.shop.id,a.dispatch(T(r)),a.dispatch(F(r)),a.dispatch(V(r))),e.abrupt("return",!!n.data.successful&&n.data.result);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()),U=Object(b.c)({name:"selection",initialState:{shops:[],selectedShopId:null,shopFilters:null,selectedFilters:{},products:null,viewedProductId:null,lists:null,selectedItems:[],displayMode:0,layoutMode:"double",theme:null,sidebar:!1,popup:{display:!1,title:"",message:"",explanation:"",class:""}},reducers:{setSelectedShop:function(e,t){e.selectedShopId=t.payload},resetSelectedShop:function(e){e.selectedShopId=null},setSelectedItems:function(e,t){var a=e.selectedItems.indexOf(t.payload);a>-1?e.selectedItems.splice(a,1):e.selectedItems.push(t.payload)},resetSelectedItems:function(e){e.selectedItems=[]},setSelectedFilters:function(e,t){e.selectedFilters[t.payload.catId]=t.payload.value},resetSelectedFilters:function(e){e.selectedFilters={}},resetShopFilters:function(e){e.shopFilters=[]},setDisplayMode:function(e){e.displayMode=e.displayMode?0:1},setLayoutMode:function(e,t){e.layoutMode=t.payload},setTheme:function(e,t){e.theme=t.payload},setViewedProductId:function(e,t){e.viewedProductId=t.payload},setSidebar:function(e,t){e.sidebar=t.payload},setPopup:function(e,t){e.popup=t.payload},resetPopup:function(e){e.popup={display:!1,title:"",message:"",explanation:"",class:""}}},extraReducers:(A={},Object(p.a)(A,B.fulfilled,(function(e,t){e.shops=t.payload||[]})),Object(p.a)(A,T.fulfilled,(function(e,t){e.shopFilters=t.payload||[]})),Object(p.a)(A,F.fulfilled,(function(e,t){e.products=t.payload||[]})),Object(p.a)(A,V.fulfilled,(function(e,t){e.lists=t.payload||[]})),A)}),Y=U.actions,J=Y.setSelectedShop,_=(Y.resetSelectedShop,Y.setSelectedItems),Q=Y.resetSelectedItems,$=Y.setSelectedFilters,X=Y.resetSelectedFilters,Z=Y.setDisplayMode,ee=Y.setLayoutMode,te=Y.setTheme,ae=Y.setViewedProductId,ne=Y.setSidebar,re=Y.setPopup,ce=Y.resetPopup,le=U.reducer;var ue=function(){var e=Object(k.f)(),t=Object(m.c)(),a=Object(k.g)(),n=Object(m.d)((function(e){return e.selection.shops})),l=Object(r.useState)(!1),u=Object(o.a)(l,2),s=u[0],d=u[1],p=Object(r.useState)({selected:"",message:"Please select a shop",status:!0}),f=Object(o.a)(p,2),h=f[0],v=f[1],b=function(){h.selected?(v((function(e){return Object(i.a)(Object(i.a)({},e),{},{status:!0})})),t(F(h.selected)),t(T(h.selected)),t(V(h.selected)),d(!1)):v((function(e){return Object(i.a)(Object(i.a)({},e),{},{status:!1})}))};return Object(r.useEffect)((function(){if(a.pathname.match("/lists/")){var n=a.pathname.split("/lists/")[1].split("/")[0],r=Number(n);t(D(r))}else if(a.pathname.match("/list/")){var c=a.pathname.split("/list/")[1].split("/")[0];t(G(c)).then((function(t){t.payload&&e.push("/lists/"+t.payload.id)}))}else if(a.pathname.match("/product/")){var l=a.pathname.split("/product/")[1].split("/")[0],u=Number(l);t(H(u))}else d(!0);t(B())}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(z.a,{dialogClassName:"custom-modal",centered:!0,show:s,onHide:b,backdrop:"static",keyboard:!1},c.a.createElement(z.a.Header,null,c.a.createElement(z.a.Title,null,"SELECT A SHOP")),c.a.createElement(z.a.Body,null,c.a.createElement("select",{value:h.selected,onChange:function(e){var t=Number(e.target.value);v(""===t?function(e){return Object(i.a)(Object(i.a)({},e),{},{selected:t})}:function(e){return Object(i.a)(Object(i.a)({},e),{},{selected:t,status:!0})})}},c.a.createElement("option",{value:""},"SELECT SHOP"),null===n||void 0===n?void 0:n.map((function(e,t){return c.a.createElement("option",{key:t,value:e.id},e.name.toUpperCase())}))),h.status?"":c.a.createElement("label",{className:"warning-text"},h.message)),c.a.createElement(z.a.Footer,null,c.a.createElement("button",{onClick:b},"OKAY"))),s?null:c.a.createElement(M,null))},ie=a(11),oe=function(e){var t=e.component,a=(e.auth,Object(L.a)(e,["component","auth"])),n=Object(r.useContext)(R).isAuthenticated,l=Object(ie.a)((function(e){return e.selection.shops}),(function(e){return e.selection.products}),(function(e){return e.selection.selectedShopId}),(function(e,t,a){return e&&t&&a})),u=Object(m.d)(l);return c.a.createElement(k.a,Object.assign({},a,{render:function(e){return n.progress?c.a.createElement(M,null):n.result?u?c.a.createElement(t,e):c.a.createElement(ue,null):c.a.createElement(I,null)}}))},se=function(e){var t,a=Object(k.f)(),n=Object(m.d)((function(e){return e.selection.selectedItems})),r=Object(m.c)(),l=e.mode;return c.a.createElement("div",{className:"product "+(t=e.id,n.includes(t)?"active":""),onClick:function(){return r(_(e.id))}},c.a.createElement("img",{alt:"",src:function(){var t,a,n=null===(t=e.medias)||void 0===t?void 0:t.filter((function(e){return e.type===l}));return n&&(null===(a=n[0])||void 0===a?void 0:a.link)||""}(),onClick:function(t){t.preventDefault(),t.stopPropagation(),a.push("/product/"+e.id)}}),c.a.createElement("label",null,"NO ",e.name),c.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-plus",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{fillRule:"evenodd",d:"M8 3.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H4a.5.5 0 0 1 0-1h3.5V4a.5.5 0 0 1 .5-.5z"}),c.a.createElement("path",{fillRule:"evenodd",d:"M7.5 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0V8z"})),c.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-dash",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{fillRule:"evenodd",d:"M3.5 8a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.5-.5z"})))},de=a(29),me=a(15),pe=a(10),fe=function(e){var t=Object(ie.a)((function(e){return e.selection.products}),(function(e,t){return t}),(function(e,t){return e.filter((function(e){return Object.entries(t).every((function(t){var a,n=Object(o.a)(t,2),r=n[0],c=n[1];return null===(a=e.productShopCategories)||void 0===a?void 0:a.find((function(e){return e.shopCategory.category.id===Number(r)&&e.shopCategory.id===Number(c)}))}))}))})),a=Object(m.d)((function(a){return t(a,e.filters)})),n=Object(m.d)((function(e){return e.selection.displayMode})),r=Object(m.d)((function(e){return e.selection.layoutMode}));return c.a.createElement(de.a,null,"single"===r?null===a||void 0===a?void 0:a.map((function(e){return c.a.createElement(me.a,{key:e.id},c.a.createElement(pe.a,{className:"product-container single mt-3 mb-3"},c.a.createElement(se,Object.assign({mode:n},e))))})):c.a.createElement(me.a,{xs:2,md:4,lg:6},null===a||void 0===a?void 0:a.map((function(e){return c.a.createElement(pe.a,{className:"product-container mt-3 mb-3",key:e.id},c.a.createElement(se,Object.assign({mode:n},e)))}))))},he=a(12),ve=function(e){var t=e.selectedFilters,a=Object(m.d)((function(e){return e.selection.shopFilters})),n=function(e,a){return Boolean(t[Number(e)]&&t[Number(e)]===Number(a))},r=function(t){return e.handleFilterChange(t)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"bottom-panel filter-selection fade-in"},c.a.createElement("div",{className:"primary-part"},c.a.createElement("label",null,"FILTER"),c.a.createElement("svg",{onClick:function(){return e.handleFilterClick()},width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-x",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{fillRule:"evenodd",d:"M11.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z"}),c.a.createElement("path",{fillRule:"evenodd",d:"M4.146 4.146a.5.5 0 0 0 0 .708l7 7a.5.5 0 0 0 .708-.708l-7-7a.5.5 0 0 0-.708 0z"}))),null===a||void 0===a?void 0:a.map((function(e){return c.a.createElement("div",{key:e.id,className:"filterAreas"},c.a.createElement("label",null,e.name),c.a.createElement("ul",null,e.shopCategories.map((function(t){return c.a.createElement("li",{key:t.id,className:n(e.id,t.id)?"active":""},c.a.createElement("label",null,t.value,c.a.createElement("input",{type:"radio",name:e.name,checked:n(e.id,t.id),value:Number(t.id),onChange:r})))}))))})),c.a.createElement("div",{className:"secondary-part open"},c.a.createElement("div",{className:"line"},c.a.createElement("button",{className:"revert",onClick:function(){return e.resetFilter()}},"RESET FILTERS")))))};function be(){var e=Object(m.c)(),t=Object(ie.a)((function(e){return e.selection.products}),(function(e){return e.selection.selectedItems}),(function(e,t){var a=t.reduce((function(t,a){return t+e.find((function(e){return e.id===a})).weight}),0);return Math.round(100*a)/100})),a=Object(m.d)(t),n=Object(m.d)((function(e){return e.selection.displayMode})),l=Object(m.d)((function(e){return e.selection.shopFilters})),u=Object(m.d)((function(e){return e.selection.selectedItems})),s=Object(m.d)((function(e){return e.selection.selectedFilters})),d=Object(r.useState)(""),p=Object(o.a)(d,2),f=p[0],h=p[1],v=Object(r.useState)(!1),b=Object(o.a)(v,2),E=b[0],g=b[1],O=Object(r.useState)(!1),w=Object(o.a)(O,2),j=w[0],x=w[1],S=Object(r.useState)(!1),y=Object(o.a)(S,2),N=y[0],C=y[1],k=Object(r.useState)({progress:!1,status:!1,flag:!1}),I=Object(o.a)(k,2),L=I[0],R=I[1],A=function(){C((function(e){return!e}))},M=function(){x((function(e){return!e}))};return c.a.createElement(c.a.Fragment,null,c.a.createElement(de.a,{fluid:!0,className:"subnav"},c.a.createElement(me.a,null,c.a.createElement(pe.a,{xs:4},c.a.createElement("label",{onClick:M},"FILTERS")),c.a.createElement(pe.a,{xs:8},u.length?c.a.createElement("label",{onClick:function(){e(Q()),h(""),g(!1)}},"CLEAR SELECTION"):c.a.createElement("label",null),c.a.createElement("label",{onClick:function(){return e(Z())}},n?"BACK TO BLOCKS":"SEE RENDERS")))),c.a.createElement(fe,{filters:s}),u.length?c.a.createElement("div",{className:"bottom-panel product-selection fade-in"},c.a.createElement("div",{className:"primary-part"},c.a.createElement("div",{className:"left"},c.a.createElement("label",null,u.length," ITEMS SELECTED"),N?c.a.createElement(c.a.Fragment,null,c.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-dot",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{fillRule:"evenodd",d:"M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"})),c.a.createElement("label",null,a," TONS")):null),c.a.createElement("div",{className:"right"},c.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-plus",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{fillRule:"evenodd",d:"M8 3.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H4a.5.5 0 0 1 0-1h3.5V4a.5.5 0 0 1 .5-.5z"}),c.a.createElement("path",{fillRule:"evenodd",d:"M7.5 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0V8z"})),c.a.createElement("label",{onClick:A},"ADD TO LIST"),c.a.createElement("svg",{onClick:function(){N?A():e(Q())},width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-x",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{fillRule:"evenodd",d:"M11.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z"}),c.a.createElement("path",{fillRule:"evenodd",d:"M4.146 4.146a.5.5 0 0 0 0 .708l7 7a.5.5 0 0 0 .708-.708l-7-7a.5.5 0 0 0-.708 0z"})))),c.a.createElement("div",{className:"secondary-part ".concat(N?"open":"")},c.a.createElement("div",{className:"line"},c.a.createElement("input",{placeholder:"SET A LIST NAME",type:"text",value:f,onChange:function(e){var t=e.target.value;h(t),g(Boolean(t))}})),L.flag&&L.status?c.a.createElement("div",{className:"line"},c.a.createElement("label",{className:"success"},"List Saved !"),c.a.createElement(he.b,{to:"/lists"},c.a.createElement("button",null,"VIEW LISTS")),c.a.createElement("button",{onClick:function(){R((function(e){return{status:!1,progress:!1,flag:!1}})),h(""),g(!1)}},"NEW LIST")):c.a.createElement("div",{className:"line"},c.a.createElement("label",null,c.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-info-circle",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),c.a.createElement("path",{d:"M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588z"}),c.a.createElement("circle",{cx:"8",cy:"4.5",r:"1"})),"List not saved yet"),c.a.createElement("button",{disabled:!E||L.progress,onClick:function(){R((function(e){return Object(i.a)(Object(i.a)({},e),{},{progress:!0})})),e(P(f)).then((function(e){e.payload?R((function(e){return{status:!0,progress:!1,flag:!0}})):R((function(e){return Object(i.a)(Object(i.a)({},e),{},{progress:!1})}))}))}},"SAVE LIST")))):"",j?c.a.createElement(ve,{selectedFilters:s,resetFilter:function(){e(X())},handleFilterChange:function(t){var a=Number(t.target.value),n=t.target.name;e($({catId:l.find((function(e){return e.name===n})).id,value:a}))},handleFilterClick:M}):null)}var Ee=a(53),ge=a(69),Oe=a.n(ge),we=function(e){return c.a.createElement("button",{onClick:function(){Oe()(e.url),e.copy()},className:"react-share__ShareButton"},c.a.createElement("svg",{style:{fontSize:"2.2em"},width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-stickies",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{fillRule:"evenodd",d:"M0 1.5A1.5 1.5 0 0 1 1.5 0H13a1 1 0 0 1 1 1H1.5a.5.5 0 0 0-.5.5V14a1 1 0 0 1-1-1V1.5z"}),c.a.createElement("path",{fillRule:"evenodd",d:"M2 3.5A1.5 1.5 0 0 1 3.5 2h11A1.5 1.5 0 0 1 16 3.5v6.086a1.5 1.5 0 0 1-.44 1.06l-4.914 4.915a1.5 1.5 0 0 1-1.06.439H3.5A1.5 1.5 0 0 1 2 14.5v-11zM3.5 3a.5.5 0 0 0-.5.5v11a.5.5 0 0 0 .5.5h6.086a.5.5 0 0 0 .353-.146l4.915-4.915A.5.5 0 0 0 15 9.586V3.5a.5.5 0 0 0-.5-.5h-11z"}),c.a.createElement("path",{fillRule:"evenodd",d:"M10.5 10a.5.5 0 0 0-.5.5v5H9v-5A1.5 1.5 0 0 1 10.5 9h5v1h-5z"})))},je=a(113),xe=a(114),Se=a(116),ye=a(115),Ne=function(e){var t=Object(r.useState)(!1),a=Object(o.a)(t,2),n=a[0],l=a[1];return c.a.createElement("div",{className:"bottom-panel share-panel fade-in"},c.a.createElement("div",{className:"primary-part"},c.a.createElement("label",null,"SHARE ON SOCIAL MEDIA"),c.a.createElement("svg",{onClick:function(){return e.setDisplay()},width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-x",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{fillRule:"evenodd",d:"M11.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z"}),c.a.createElement("path",{fillRule:"evenodd",d:"M4.146 4.146a.5.5 0 0 0 0 .708l7 7a.5.5 0 0 0 .708-.708l-7-7a.5.5 0 0 0-.708 0z"}))),c.a.createElement("div",{className:"secondary-part open"},c.a.createElement("div",{className:"flex-container"},c.a.createElement(we,{copy:function(){return l(!0)},url:e.url}),n?c.a.createElement("label",{className:"success-text"},"Copied !"):c.a.createElement("label",null,"Copy Link")),c.a.createElement("div",{className:"flex-container"},c.a.createElement(je.a,{url:e.url,subject:e.subject,body:e.title},c.a.createElement(xe.a,{size:64,round:!0,bgStyle:{fill:"transparent"},iconFillColor:"currentColor"})),c.a.createElement("label",null,"Send Via Mail")),c.a.createElement("div",{className:"flex-container"},c.a.createElement(Se.a,{url:e.url,title:e.title,separator:" "},c.a.createElement(ye.a,{size:64,round:!0,bgStyle:{fill:"transparent"},iconFillColor:"currentColor"})),c.a.createElement("label",null,"WhatsApp"))))},Ce=a(70),ke=function(e){var t=function(){return e.confirm(!1)};return c.a.createElement(z.a,{dialogClassName:"modal-confirmation",centered:!0,show:e.show,onHide:t,backdrop:"static",keyboard:!1},c.a.createElement(z.a.Header,{closeButton:!0},c.a.createElement(z.a.Title,null,e.title)),c.a.createElement(z.a.Body,null,e.message),c.a.createElement(z.a.Footer,null,c.a.createElement("button",{className:"revert",onClick:function(){return e.confirm(!0)}},"YES"),c.a.createElement("button",{onClick:t},"NO")))},Ie=function(e){var t=Object(ie.a)((function(e){return e.selection.lists}),(function(e){return e.selection.shopFilters}),(function(e){return e.selection.products}),(function(t,a,n){var r,c=t.find((function(t){return t.id===Number(e)})),l=a.find((function(e){return e.shopCategories[0].isPrimary}));l||(l=a.find((function(e,t){return 0===t})));var u=null===(r=l)||void 0===r?void 0:r.shopCategories.map((function(e){return{id:e.id,value:e.value,quantity:0,weight:0}}));c.products.forEach((function(e){var t,a=n.find((function(t){return t.id===e.product.id})),r=null===(t=a.productShopCategories)||void 0===t?void 0:t.find((function(e){return e.shopCategory.category.id===l.id}));if(r){var c=u.findIndex((function(e){return e.id===r.shopCategory.id}));u[c].quantity++,u[c].weight+=a.weight}else u.push({id:a.id,value:a.name,quantity:1,weight:a.weight})}));var i=Math.round(100*c.products.reduce((function(e,t){return e+t.product.weight}),0))/100;return{item:c,totalWeight:i,primaryFilter:l,groups:u}}));return Object(m.d)(t)},Le=function(e){var t,a=Object(k.f)(),n=e.mode;return c.a.createElement("div",{className:"product "+(t=e.id,e.selectedProducts.includes(t)?"active":""),onClick:function(){return function(t){return e.handleSelected(t)}(e.id)}},c.a.createElement("img",{alt:"",src:function(){var t,a,r=null===(t=e.medias)||void 0===t?void 0:t.filter((function(e){return e.type===n}));return r&&(null===(a=r[0])||void 0===a?void 0:a.link)||""}(),onClick:function(t){t.preventDefault(),t.stopPropagation(),a.push("/product/"+e.id)}}),c.a.createElement("label",null,"NO ",e.name),c.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-plus",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{fillRule:"evenodd",d:"M8 3.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H4a.5.5 0 0 1 0-1h3.5V4a.5.5 0 0 1 .5-.5z"}),c.a.createElement("path",{fillRule:"evenodd",d:"M7.5 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0V8z"})),c.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-dash",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{fillRule:"evenodd",d:"M3.5 8a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.5-.5z"})))},Re=Object(ie.a)([function(e){return e.selection.products},function(e,t){return t},function(e,t,a){return a}],(function(e,t,a){var n=a.item.products,r=[],c=[],l=[];return n.forEach((function(t){l.push(t.product.id);var a=e.findIndex((function(e){return e.id===t.product.id})),n=e[a];r.push(n),c.push(a)})),{products:e.filter((function(e,a){return!(c.indexOf(a)>-1)&&Object.entries(t).every((function(t){var a,n=Object(o.a)(t,2),r=n[0],c=n[1];return null===(a=e.productShopCategories)||void 0===a?void 0:a.find((function(e){return e.shopCategory.category.id===Number(r)&&e.shopCategory.id===Number(c)}))}))})),selectedItems:l}})),Ae=Object(m.b)((function(e,t){return Re(e,t.filters,t.listInfo)}))((function(e){var t,a,n=Object(m.d)((function(e){return e.selection.displayMode})),r=Object(m.d)((function(e){return e.selection.layoutMode})),l=function(t){return e.handleSelected(t)};return c.a.createElement(de.a,null,"single"===r?null===(t=e.products)||void 0===t?void 0:t.map((function(t){return c.a.createElement(me.a,{key:t.id},c.a.createElement(pe.a,{className:"product-container single mt-3 mb-3"},c.a.createElement(Le,Object.assign({handleSelected:l,selectedProducts:e.selectedProducts,mode:n},t))))})):c.a.createElement(me.a,{xs:2,md:4,lg:6},null===(a=e.products)||void 0===a?void 0:a.map((function(t){return c.a.createElement(pe.a,{className:"product-container mt-3 mb-3",key:t.id},c.a.createElement(Le,Object.assign({handleSelected:l,selectedProducts:e.selectedProducts,mode:n},t)))}))))})),Me=function(e){var t=Object(k.f)(),a=e.mode;return c.a.createElement("div",{className:"product"},c.a.createElement("img",{alt:"",src:function(){var t,n,r=null===(t=e.medias)||void 0===t?void 0:t.filter((function(e){return e.type===a}));return r&&(null===(n=r[0])||void 0===n?void 0:n.link)||""}(),onClick:function(a){a.preventDefault(),a.stopPropagation(),t.push("/product/"+e.id)}}),c.a.createElement("label",null,"NO ",e.name),c.a.createElement("svg",{onClick:function(){return t=e.id,e.handleSelected(t);var t},width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-dash",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{fillRule:"evenodd",d:"M3.5 8a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.5-.5z"})))},ze=function(e){var t,a,n=Object(m.d)((function(e){return e.selection.displayMode})),l=Object(m.d)((function(e){return e.selection.layoutMode}));Object(r.useEffect)((function(){return console.log(e)}));var u=function(t){return e.handleSelected(t)};return c.a.createElement(de.a,null,"single"===l?null===(t=e.products)||void 0===t?void 0:t.map((function(e){return c.a.createElement(me.a,{key:e.product.id},c.a.createElement(pe.a,{className:"product-container single mt-3 mb-3"},c.a.createElement(Me,Object.assign({handleSelected:u,mode:n},e.product))))})):c.a.createElement(me.a,{xs:2,md:4,lg:6},null===(a=e.products)||void 0===a?void 0:a.map((function(e){return c.a.createElement(pe.a,{className:"product-container mt-3 mb-3",key:e.product.id},c.a.createElement(Me,Object.assign({handleSelected:u,mode:n},e.product)))}))))},Be=function(e){return c.a.createElement("div",{className:"options-menu fade-in"},c.a.createElement("button",{style:{margin:"0 5px"},onClick:function(){return e.action("clear")}},"CLEAR"),c.a.createElement("button",{style:{margin:"0 5px"},onClick:function(){return e.action("delete")}},"DELETE"),c.a.createElement("button",{style:{margin:"0 5px"},onClick:function(){return e.action("share")}},"SHARE"))};var Te=function(){var e=Object(k.f)(),t=Object(m.c)(),a=Object(k.i)(),n=a.path,l=a.url,u=Object(r.useState)({}),s=Object(o.a)(u,2),d=s[0],p=s[1],f=Object(r.useState)(null),h=Object(o.a)(f,2),v=h[0],b=h[1],E=Object(r.useState)(!1),g=Object(o.a)(E,2),O=g[0],w=g[1],j=Object(m.d)((function(e){return e.selection.lists})),x=Object(r.useState)(),S=Object(o.a)(x,2),y=S[0],N=S[1],C=Object(m.d)((function(e){return e.selection.selectedShopId})),I=function(e){t(K(e)).then((function(e){e.payload&&(p((function(t){return Object(i.a)(Object(i.a)({},t),{},{guid:e.payload,subject:"Block Shop - Shared List",title:"Please checkout my list in Block Shop",url:"".concat(window.location.origin,"/list/").concat(e.payload)})})),w(!0))}))},L=Object(r.useState)(!1),R=Object(o.a)(L,2),A=R[0],z=R[1],B=Object(r.useState)(!1),T=Object(o.a)(B,2),F=T[0],H=T[1],P=function(e){N(e),z(!0)},D=function(e){N(e),H(!0)};return Object(r.useEffect)((function(){t(V(C))}),[]),c.a.createElement(k.c,null,c.a.createElement(k.a,{exact:!0,path:n},c.a.createElement(de.a,{fluid:!0,className:"subnav"},c.a.createElement(me.a,null,c.a.createElement(pe.a,{xs:8},c.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-arrow-left",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{fillRule:"evenodd",d:"M5.854 4.646a.5.5 0 0 1 0 .708L3.207 8l2.647 2.646a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0z"}),c.a.createElement("path",{fillRule:"evenodd",d:"M2.5 8a.5.5 0 0 1 .5-.5h10.5a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"})),c.a.createElement("label",{onClick:function(){return e.push("/products")}},"BACK TO BLOCKS")),c.a.createElement(pe.a,{xs:4}))),c.a.createElement("ul",{className:"lists-page"},null===j||void 0===j?void 0:j.map((function(e){return c.a.createElement("li",{key:e.id},c.a.createElement(he.b,{to:"".concat(l,"/").concat(e.id)},e.name),c.a.createElement("svg",{onClick:function(){return t=e.id,b((function(e){return e===t?null:t})),void w(!1);var t},width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-three-dots-vertical",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{fillRule:"evenodd",d:"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"})),v===e.id?c.a.createElement(Be,{action:function(t){return function(e,t){switch(e){case"share":I(t);break;case"delete":D(t);break;case"clear":P(t)}}(t,e.id)}}):null,O&&v===e.id?c.a.createElement(Ne,Object.assign({},d,{setDisplay:function(){return w((function(e){return!e}))}})):null)}))),c.a.createElement(ke,{title:"CLEAR LIST ?",message:"Are you sure to clear list?",show:A,confirm:function(e){z(!1),e&&t(q({id:y,data:[]})).then((function(e){e.payload})),N()}}),c.a.createElement(ke,{title:"DELETE LIST ?",message:"Are you sure to delete list?",show:F,confirm:function(e){H(!1),e&&t(W(y)).then((function(e){e.payload})),N()}})),c.a.createElement(k.a,{exact:!0,path:"".concat(n,"/:id")},j?c.a.createElement(Fe,null):c.a.createElement(M,null)),c.a.createElement(k.a,{exact:!0,path:"".concat(n,"/:id/edit")},j?c.a.createElement(He,null):c.a.createElement(M,null)),c.a.createElement(k.a,{exact:!0,path:"".concat(n,"/:id/view")},j?c.a.createElement(Pe,null):c.a.createElement(M,null)))},Fe=function(){var e,t=Object(k.h)().id,a=Object(m.c)(),n=Object(k.i)().url,l=Ie(t),u=Object(r.useState)({}),s=Object(o.a)(u,2),d=s[0],p=s[1],f=Object(r.useState)(!1),h=Object(o.a)(f,2),v=h[0],b=h[1],E=Object(r.useState)(!1),g=Object(o.a)(E,2),O=g[0],w=g[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(de.a,{fluid:!0,className:"subnav"},c.a.createElement(me.a,null,c.a.createElement(pe.a,{xs:8},c.a.createElement("label",null,l.item.name)),c.a.createElement(pe.a,{xs:4},c.a.createElement("label",{onClick:function(){w(!0)}},"CLEAR LIST")))),c.a.createElement("div",{className:"list-item-container"},c.a.createElement("div",{className:"list-item-row"},c.a.createElement("div",{className:"info-container"},c.a.createElement("div",{className:"line"},c.a.createElement("label",null,l.item.products.length," BLOCKS"),c.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-dot",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{fillRule:"evenodd",d:"M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"})),c.a.createElement("label",null,l.totalWeight," TONS IN TOTAL")),c.a.createElement("div",{className:"line"},c.a.createElement("label",{className:"light-font"},"Review and share list with your client."))),c.a.createElement("div",{className:"action-container"},c.a.createElement(he.b,{to:"".concat(n,"/edit")},"ADD BLOCK"))),c.a.createElement("div",{className:"list-item-row"},c.a.createElement(Ce.a,null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"QTY"),c.a.createElement("th",null,l.primaryFilter.name),c.a.createElement("th",null,"WEIGHT"))),c.a.createElement("tbody",null,null===(e=l.groups)||void 0===e?void 0:e.map((function(e){return e.quantity?c.a.createElement("tr",{key:e.id},c.a.createElement("td",null,e.quantity),c.a.createElement("td",null,e.value),c.a.createElement("td",null,e.weight)):null}))),c.a.createElement("tfoot",null,c.a.createElement("tr",null,c.a.createElement("th",null,"TOTAL"),c.a.createElement("th",null),c.a.createElement("th",null,l.totalWeight," TONS"))))),c.a.createElement("div",{className:"list-item-row"},c.a.createElement(de.a,{fluid:!0},c.a.createElement(me.a,null,c.a.createElement(pe.a,{xs:7},c.a.createElement("div",{className:"action-container revert"},c.a.createElement(he.b,{to:"".concat(n,"/view")},"VIEW BLOCKS IN THE LIST"))),c.a.createElement(pe.a,{xs:5},c.a.createElement("button",{onClick:function(){a(K(t)).then((function(e){e.payload&&(p((function(t){return Object(i.a)(Object(i.a)({},t),{},{guid:e.payload,subject:"Block Shop - Shared List",title:"Please checkout my list in Block Shop",url:"".concat(window.location.origin,"/list/").concat(e.payload)})})),b(!0))}))}},"SHARE LIST")))))),c.a.createElement(ke,{title:"CLEAR LIST ?",message:"Are you sure to clear list?",show:O,confirm:function(e){w(!1),e&&a(q({id:t,data:[]})).then((function(e){e.payload}))}}),v?c.a.createElement(Ne,Object.assign({},d,{setDisplay:function(){return b((function(e){return!e}))}})):null)},He=function(){var e=Object(k.h)().id,t=(Object(k.i)().url,Object(m.c)()),a=Object(k.f)(),n=Ie(e),l=Object(r.useState)({}),u=Object(o.a)(l,2),s=u[0],d=u[1],f=Object(m.d)((function(e){return e.selection.shopFilters})),h=Object(m.d)((function(e){return e.selection.displayMode})),v=Object(r.useState)(!1),b=Object(o.a)(v,2),E=b[0],g=b[1],O=function(){g((function(e){return!e}))},w=Object(r.useState)([]),j=Object(o.a)(w,2),x=j[0],S=j[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(de.a,{fluid:!0,className:"subnav"},c.a.createElement(me.a,null,c.a.createElement(pe.a,{xs:4},c.a.createElement("label",{onClick:O},"FILTERS")),c.a.createElement(pe.a,{xs:8},c.a.createElement("label",{onClick:function(){return t(Z())}},h?"BACK TO BLOCKS":"SEE RENDERS")))),c.a.createElement("div",{className:"container page-title flex-between"},c.a.createElement("label",null,"EDITING: ",n.item.name),c.a.createElement("button",{className:"revert",onClick:function(){var r=n.item.products.map((function(e){return{productId:e.product.id,price:0}})),c=x.map((function(e){return{productId:e,price:0}})),l=r.concat(c);t(q({id:e,data:l})).then((function(e){e.payload&&a.goBack()}))}},"SAVE LIST")),c.a.createElement(Ae,{filters:s,listInfo:n,selectedProducts:x,handleSelected:function(e){S((function(t){var a=t.indexOf(e);if(a>-1){var n=Object(Ee.a)(t);return n.splice(a,1),n}return[].concat(Object(Ee.a)(t),[e])}))}}),E?c.a.createElement(ve,{selectedFilters:s,resetFilter:function(){d({})},handleFilterChange:function(e){var t=Number(e.target.value),a=e.target.name;d((function(e){var n=f.find((function(e){return e.name===a})).id;return Object(i.a)(Object(i.a)({},e),{},Object(p.a)({},n,t))}))},handleFilterClick:O}):null)},Pe=function(){var e=Object(k.h)().id,t=Object(m.c)(),a=Ie(e),n=Object(r.useState)(!1),l=Object(o.a)(n,2),u=l[0],i=l[1],s=Object(r.useState)(!1),d=Object(o.a)(s,2),p=d[0],f=d[1],h=Object(r.useState)(null),v=Object(o.a)(h,2),b=v[0],E=v[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(de.a,{fluid:!0,className:"subnav"},c.a.createElement(me.a,null,c.a.createElement(pe.a,{xs:8},c.a.createElement("label",null,"VIEWING: ",a.item.name)),c.a.createElement(pe.a,{xs:4},c.a.createElement("label",{onClick:function(){f(!0)}},"CLEAR LIST")))),c.a.createElement(ze,{products:a.item.products,handleSelected:function(){return function(e){E(e),i(!0)}(e)}}),c.a.createElement(ke,{title:"REMOVE BLOCK ?",message:"Are you sure to remove this block?",show:u,confirm:function(n){if(i(!1),n){var r=a.item.products.map((function(e){return{productId:e.product.id,price:0}})),c=r.findIndex((function(e){return e.id===b}));r.splice(c,1),t(q({id:e,data:r})).then((function(e){e.payload}))}}}),c.a.createElement(ke,{title:"CLEAR LIST ?",message:"Are you sure to clear list?",show:p,confirm:function(a){f(!1),a&&t(q({id:e,data:[]})).then((function(e){e.payload}))}}))},Ve=a(71),De=a.n(Ve),qe=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("img",{className:"cover-image",alt:"cover",src:De.a}),c.a.createElement("label",{className:"cover-text"},"WELCOME TO BLOCK SHOP"),c.a.createElement("label",{className:"cover-sub-text"},"Please choose products to create your lists, share them with your clients ..."))},We=function(){return c.a.createElement(M,null)},Ke=function(){var e=Object(m.c)(),t=Object(r.useState)({}),a=Object(o.a)(t,2),n=a[0],l=a[1],u=Object(r.useState)(!1),s=Object(o.a)(u,2),d=s[0],p=s[1],f=Object(ie.a)((function(e){return e.selection.selectedItems}),(function(e){return e.selection.viewedProductId}),(function(e,t){return e.includes(t)})),h=Object(ie.a)((function(e){return e.selection.shops}),(function(e){return e.selection.selectedShopId}),(function(e,t){return e.find((function(e){return e.id===t}))})),v=Object(ie.a)((function(e){return e.selection.products}),(function(e){return e.selection.viewedProductId}),(function(e,t){var a,n,r,c,l=e.find((function(e){return e.id===t})),u=null===(a=l.medias)||void 0===a?void 0:a.find((function(e){return 2===e.type})),o=u?"http://china.block.shop/3d/index.html?"+u.link:"",s=null===(n=l.productShopCategories)||void 0===n?void 0:n.find((function(e){return e.shopCategory.isPrimary})),d=null===s||void 0===s?void 0:s.shopCategory.value,m=e.findIndex((function(e){return e.id===t}));0===m?(r=e.length-1,c=m+1):m===e.length-1?(r=m-1,c=0):(r=m-1,c=m+1);var p=e[r].id,f=e[c].id;return{product:Object(i.a)(Object(i.a)({},l),{},{iframe:o,label:d}),prev:p,next:f}})),b=(Object(m.d)(h),Object(m.d)(f)),E=Object(m.d)(v),g=E.product,O=E.prev,w=E.next;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"subnav container flex-between"},c.a.createElement("label",null,"L ",g.sizeL," H ",g.sizeH," W ",g.sizeW),c.a.createElement("label",null,g.weight," TONS")),c.a.createElement("div",{className:"product-carousel-container"},c.a.createElement("div",{className:"product-media-container"},c.a.createElement("iframe",{title:"Block Shop Product Carousel",scrolling:"no",frameBorder:"0",allowFullScreen:!0,src:g.iframe})),c.a.createElement("div",{className:"product-interaction"},c.a.createElement("div",{className:"navigation-icons"},c.a.createElement(he.b,{to:"/product/"+O},c.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-chevron-left",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{fillRule:"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"})))),c.a.createElement("div",{className:""},"NO ",g.name," ",g.label),c.a.createElement("div",{className:"navigation-icons"},c.a.createElement(he.b,{to:"/product/"+w},c.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-chevron-right",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{fillRule:"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"}))))),c.a.createElement("div",{className:"product-shortcuts flex-between"},c.a.createElement("svg",{onClick:function(){l((function(e){return Object(i.a)(Object(i.a)({},e),{},{subject:"Block Shop - Shared Product",title:"Please checkout this product in Block Shop",url:window.location.href})})),p(!0)},width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-share",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{fillRule:"evenodd",d:"M11.724 3.947l-7 3.5-.448-.894 7-3.5.448.894zm-.448 9l-7-3.5.448-.894 7 3.5-.448.894z"}),c.a.createElement("path",{fillRule:"evenodd",d:"M13.5 4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm0 1a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5zm0 10a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm0 1a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5zm-11-6.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm0 1a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z"})),c.a.createElement("button",{className:"transparent-button",onClick:function(){e(_(g.id))}},b?"REMOVE FROM LIST":"ADD TO LIST"))),d?c.a.createElement(Ne,Object.assign({},n,{setDisplay:function(){return p((function(e){return!e}))}})):null)},Ge=function(){var e=Object(k.h)().id,t=Object(m.c)(),a=Object(m.d)((function(e){return e.selection.viewedProductId}));return Object(r.useEffect)((function(){t(H(Number(e)))}),[e]),c.a.createElement(c.a.Fragment,null,a?c.a.createElement(Ke,null):c.a.createElement(M,null))};function Ue(){return c.a.createElement(k.c,null,c.a.createElement(oe,{path:"/products",component:be}),c.a.createElement(oe,{path:"/lists",component:Te}),c.a.createElement(oe,{path:"/list/:guid",component:We}),c.a.createElement(oe,{path:"/product/:id",component:Ge}),c.a.createElement(k.a,{path:"/shops",component:ue}),c.a.createElement(k.a,{path:"/login",component:I}),c.a.createElement(oe,{path:"/",component:qe}))}var Ye=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.selection.theme}));return c.a.createElement("div",{className:"mode-container"},c.a.createElement("div",null,"Light Mode"),c.a.createElement("input",{className:"toggle",checked:Boolean(t),type:"checkbox",onChange:function(t){var a=t.target.checked;localStorage.setItem("mode",a),e(te(a)),document.documentElement.classList.add("transition"),setTimeout((function(){document.documentElement.classList.remove("transition")}),1e3),document.documentElement.setAttribute("data-theme",a?"dark":"light")},id:"switch",name:"mode"}),c.a.createElement("label",{htmlFor:"switch"}),c.a.createElement("div",null,"Dark Mode"))},Je=function(e){var t=Object(m.c)();return c.a.createElement("div",{className:"sidebar fade-in"},c.a.createElement("div",{className:"sidebar-inner"},c.a.createElement("svg",{onClick:function(){return t(ne(!1))},width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-x",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{fillRule:"evenodd",d:"M11.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z"}),c.a.createElement("path",{fillRule:"evenodd",d:"M4.146 4.146a.5.5 0 0 0 0 .708l7 7a.5.5 0 0 0 .708-.708l-7-7a.5.5 0 0 0-.708 0z"})),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(he.c,{exact:!0,to:"/",activeClassName:"selected"},"HOMEPAGE")),c.a.createElement("li",null,c.a.createElement(he.c,{exact:!0,to:"/lists",activeClassName:"selected"},"MY LISTS")),c.a.createElement("li",null,c.a.createElement(he.c,{exact:!0,to:"/products",activeClassName:"selected"},"PRODUCTS")),c.a.createElement("li",null,c.a.createElement(he.c,{exact:!0,to:"/logout"},"SIGN OUT"))),c.a.createElement(Ye,null)))},_e=a(72),Qe=a.n(_e),$e=a(73),Xe=a.n($e),Ze=function(e){return c.a.createElement("div",{className:"logo"},c.a.createElement("img",{alt:"logo",src:e.theme?Qe.a:Xe.a}))},et=function(){var e=Object(k.f)(),t=Object(m.c)(),a=Object(m.d)((function(e){return e.selection.lists}));return c.a.createElement("div",{className:"user-menu"},c.a.createElement("svg",{onClick:function(){return e.push("/lists")},width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-file-text",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{fillRule:"evenodd",d:"M4 1h8a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H4z"}),c.a.createElement("path",{fillRule:"evenodd",d:"M4.5 10.5A.5.5 0 0 1 5 10h3a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm0-2A.5.5 0 0 1 5 8h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm0-2A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm0-2A.5.5 0 0 1 5 4h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5z"})),c.a.createElement("svg",{onClick:function(){return t(ne(!0))},width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-list",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{fillRule:"evenodd",d:"M2.5 11.5A.5.5 0 0 1 3 11h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 3h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"})),a?c.a.createElement("div",{className:"list-item-count"},a.length):null)},tt=function(){var e=Object(ie.a)((function(e){return e.selection.shops}),(function(e){return e.selection.selectedShopId}),(function(e,t){return e.find((function(e){return e.id===t}))})),t=Object(m.c)(),a=Object(m.d)(e),n=Object(m.d)((function(e){return e.selection.theme})),r=Object(m.d)((function(e){return e.selection.layoutMode}));return c.a.createElement("header",null,c.a.createElement(de.a,{fluid:!0},c.a.createElement(me.a,null,c.a.createElement(pe.a,null,c.a.createElement(Ze,{theme:n})),c.a.createElement(pe.a,null,c.a.createElement(et,{theme:n}))),c.a.createElement(me.a,{className:"panel-stripe"},c.a.createElement(pe.a,null,c.a.createElement("label",{className:"uppercase"},a?"SHOP : "+a.name:"")),c.a.createElement(pe.a,null,"single"===r?c.a.createElement("svg",{onClick:function(){return t(ee("double"))},width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-grid",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{fillRule:"evenodd",d:"M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3zM2.5 2a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zM1 10.5A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3z"})):c.a.createElement("svg",{onClick:function(){return t(ee("single"))},width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-view-stacked",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{fillRule:"evenodd",d:"M3 0h10a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3zm0 8h10a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1H3z"}))))))};var at=function(e){var t=Object(m.c)(),a=Object(m.d)((function(e){return e.selection.popup})),n=Object(m.d)((function(e){return e.selection.sidebar})),l=Object(r.useState)("false"!==localStorage.getItem("mode")),u=Object(o.a)(l,2),s=u[0],p=(u[1],Object(r.useState)({progress:!0,result:!1})),f=Object(o.a)(p,2),h=f[0],v=f[1];return Object(r.useEffect)((function(){var e=localStorage.getItem("token");null!==e&&void 0!==e?t(S()).then((function(e){e.payload?v({progress:!1,result:!0}):v({progress:!1,result:!1})})):v((function(e){return Object(i.a)(Object(i.a)({},e),{},{progress:!1})})),document.documentElement.setAttribute("data-theme",s?"dark":"light"),t(te(s))}),[]),c.a.createElement("div",{className:"App"},n?c.a.createElement(Je,null):null,c.a.createElement(tt,null),c.a.createElement(R.Provider,{value:{isAuthenticated:h,setAuthenticated:v}},c.a.createElement(Ue,null)),c.a.createElement(d,Object.assign({onClose:function(){t(ce())}},a)))},nt=Object(b.a)({reducer:{user:C,selection:le}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(m.a,{store:nt},c.a.createElement(he.a,null,c.a.createElement(at,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},71:function(e,t,a){e.exports=a.p+"static/media/cover.f3eb79b5.svg"},72:function(e,t,a){e.exports=a.p+"static/media/logo-dark.6846f089.svg"},73:function(e,t,a){e.exports=a.p+"static/media/logo-light.69dfc894.svg"},77:function(e,t,a){e.exports=a(109)},82:function(e,t,a){},83:function(e,t,a){}},[[77,1,2]]]);
//# sourceMappingURL=main.af38adf1.chunk.js.map